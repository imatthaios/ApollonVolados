<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="ApollonVolados.Mobile.Views.TeamsPage"
    Title="Ομάδες"
    BackgroundColor="{StaticResource BackgroundColor}">

    <Grid>
        <BoxView 
            Color="{StaticResource PrimaryColor}" 
            Opacity="0.05" 
            HeightRequest="200" 
            VerticalOptions="Start" 
            HorizontalOptions="Fill" />

        <CollectionView
            ItemsSource="{Binding Categories}"
            SelectionMode="Single"
            SelectionChanged="OnSelectionChanged"
            Margin="16">

            <CollectionView.ItemsLayout>
                <GridItemsLayout 
                    Orientation="Vertical"
                    Span="{OnIdiom Phone=1, Tablet=2, Desktop=3}"
                    HorizontalItemSpacing="12"
                    VerticalItemSpacing="12" />
            </CollectionView.ItemsLayout>

            <CollectionView.ItemTemplate>
                <DataTemplate>

                    <Border
                        BackgroundColor="{StaticResource SurfaceColor}"
                        Padding="16"
                        StrokeShape="RoundRectangle 16"
                        StrokeThickness="0"
                        HeightRequest="90"> 
                        <Border.Shadow>
                            <Shadow
                                Brush="#1A000000"
                                Offset="0,4"
                                Radius="6" />
                        </Border.Shadow>

                        <Grid ColumnDefinitions="50,*" ColumnSpacing="12">
                            
                            <Border 
                                Grid.Column="0"
                                HeightRequest="50"
                                WidthRequest="50"
                                StrokeShape="RoundRectangle 25"
                                BackgroundColor="{StaticResource PrimaryColor}"
                                StrokeThickness="0"
                                HorizontalOptions="Center"
                                VerticalOptions="Center">
                                <Label
                                    Text="{Binding Icon}"
                                    FontSize="24"
                                    HorizontalOptions="Center"
                                    VerticalOptions="Center"
                                    TextColor="White" />
                            </Border>

                            <VerticalStackLayout
                                Grid.Column="1"
                                VerticalOptions="Center"
                                Spacing="2">

                                <Label
                                    Text="{Binding Title}"
                                    FontSize="16"
                                    FontAttributes="Bold"
                                    LineBreakMode="TailTruncation"
                                    TextColor="{StaticResource TextPrimary}" />

                                <Label
                                    Text="{Binding Subtitle}"
                                    FontSize="12"
                                    LineBreakMode="TailTruncation"
                                    TextColor="{StaticResource TextSecondary}" />
                            </VerticalStackLayout>
                            
                            <Label 
                                Grid.Column="1"
                                Text="›"
                                FontSize="24"
                                TextColor="{StaticResource TextSecondary}"
                                HorizontalOptions="End"
                                VerticalOptions="Center"
                                Margin="0,0,4,0"/>

                        </Grid>
                    </Border>

                </DataTemplate>
            </CollectionView.ItemTemplate>

            <CollectionView.Footer>
                <BoxView HeightRequest="20" Color="Transparent" />
            </CollectionView.Footer>

        </CollectionView>
    </Grid>
</ContentPage>